console.info("script.js: cleaned duplicates/unused handlers (non-destructive)."),function(){const t=t=>Array.from(document.querySelectorAll(t)),e=(n="#lightbox",document.querySelector(n));var n;const r=e?e.querySelector(".lightbox-track"):null,o=e?e.querySelector(".lightbox-backdrop"):null,i=e?e.querySelector(".lightbox-close"):null,l=e?e.querySelector(".lightbox-prev"):null,c=e?e.querySelector(".lightbox-next"):null,a=e?e.querySelector(".lightbox-title"):null,s=e?e.querySelector(".lightbox-desc"):null,d=e?e.querySelector(".lightbox-dots"):null;function u(t){const e=[];let n={label:null,items:[]};return Array.from(t.children).forEach(t=>{if(t.classList&&t.classList.contains("projects-subsection"))n.items.length&&e.push(n),n={label:t.textContent.trim()||null,items:[]};else if(t.classList&&t.classList.contains("project-card")){const e=t.querySelector(".project-media img"),r=t.querySelector(".cta"),o=t.querySelector(".project-caption");n.items.push({src:e?e.src:"",alt:e?e.alt:"",title:r?.dataset.title||o?.textContent.trim()||(e?e.alt:""),desc:r?.dataset.desc||"",el:t})}}),n.items.length&&e.push(n),e}let m=[],y=0;function f(t){r&&(r.innerHTML=t.map((t,e)=>{const n=0===e?"":' loading="lazy"';return`<div class="slide" role="listitem"><img src="${t.src}" alt="${t.alt||""}" decoding="async"${n}></div>`}).join(""),function(t){if(d){d.innerHTML="";for(let e=0;e<t;e++){const t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("role","tab"),t.setAttribute("aria-label",`Go to slide ${e+1}`),t.dataset.idx=String(e),0===e&&t.setAttribute("aria-selected","true"),d.appendChild(t)}}}(t.length),function(t){const e=t>1;l&&(l.style.display=e?"":"none"),c&&(c.style.display=e?"":"none"),d&&(d.style.display=e?"":"none")}(t.length))}function g(t,e=!0){if(!r||!m.length)return;const n=m.length;t<0&&(t=n-1),t>=n&&(t=0),y=t,r.style.transition=e?"transform .36s cubic-bezier(.2,.9,.2,1)":"none",r.style.transform=`translateX(-${100*y}%)`,a&&(a.textContent=m[y].title||""),s&&(s.textContent=m[y].desc||""),function(t){if(!d)return;Array.from(d.querySelectorAll("button")).forEach((e,n)=>{n===t?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected")})}(y)}function h(t){g(t,!1),requestAnimationFrame(()=>{e&&e.setAttribute("aria-hidden","false"),document.documentElement.style.overflow="hidden",requestAnimationFrame(()=>g(t,!0))})}function p(){e&&e.setAttribute("aria-hidden","true"),document.documentElement.style.overflow=""}document.addEventListener("DOMContentLoaded",()=>{!function(){t(".projects-grid .project-card").forEach((t,e)=>t.style.setProperty("--i",String(e))),t(".section-subtitle").forEach((t,e)=>t.style.setProperty("--i",String(e)));const e=()=>{document.body.classList.add("loaded")};"complete"===document.readyState?setTimeout(e,120):window.addEventListener("load",()=>setTimeout(e,120),{once:!0})}(),function(){const n=t(".projects-grid"),a=new Map;if(n.forEach(t=>a.set(t,u(t))),document.addEventListener("click",t=>{const e=t.target.closest(".cta");if(!e)return;if(e.hasAttribute("data-nolightbox"))return;t.preventDefault();const r=e.closest(".project-card"),o=e.closest(".projects-grid")||n[0];if(e.hasAttribute("data-single")){const t=r?.querySelector(".project-media img"),n=e?.dataset.title||r?.querySelector(".project-caption")?.textContent.trim()||t?.alt||"",o=e?.dataset.desc||"";return m=[{src:t?.src||"",alt:t?.alt||"",title:n,desc:o,el:r}],f(m),void h(0)}const i=e.getAttribute("data-gallery");if(i){const t=e?.dataset.title||r?.querySelector(".project-caption")?.textContent.trim()||"",n=e?.dataset.desc||"",o=r?.querySelector(".project-media img")?.alt||t||"",l=i.split(",").map(t=>t.trim()).filter(Boolean);return m=l.map(e=>({src:e,alt:o,title:t,desc:n,el:r})),f(m),void h(0)}const l=a.get(o)||u(o);let c=!1;for(let t=0;t<l.length;t++){const e=l[t].items.findIndex(t=>t.el===r);if(-1!==e){m=l[t].items,f(m),h(e),c=!0;break}}if(!c){const t=Array.from(o.querySelectorAll(".project-card")).map(t=>{const e=t.querySelector(".project-media img"),n=t.querySelector(".cta"),r=t.querySelector(".project-caption");return{src:e?.src||"",alt:e?.alt||"",title:n?.dataset.title||r?.textContent.trim()||"",desc:n?.dataset.desc||"",el:t}});m=t,f(m);const e=t.findIndex(t=>t.el===r);h(e>=0?e:0)}}),o&&o.addEventListener("click",p),i&&i.addEventListener("click",p),l&&l.addEventListener("click",()=>g(y-1)),c&&c.addEventListener("click",()=>g(y+1)),d&&d.addEventListener("click",t=>{const e=t.target.closest("button[data-idx]");if(!e)return;const n=parseInt(e.dataset.idx,10);Number.isInteger(n)&&g(n)}),document.addEventListener("keydown",t=>{e&&"true"!==e.getAttribute("aria-hidden")&&("Escape"===t.key&&p(),"ArrowLeft"===t.key&&g(y-1),"ArrowRight"===t.key&&g(y+1))}),r){let t=0;r.addEventListener("touchstart",e=>t=e.changedTouches[0].clientX,{passive:!0}),r.addEventListener("touchend",e=>{const n=e.changedTouches[0].clientX-t;Math.abs(n)>50&&g(n>0?y-1:y+1)},{passive:!0})}}();const n=document.getElementById("emailBtn");if(n){const t="https://mail.google.com/mail/u/0/?view=cm&fs=1&to=ragakalasramadhan27@gmail.com&su=Collaboration%20Inquiry&body=Hi%20Raga%2C%0A%0A",e="mailto:ragakalasramadhan27@gmail.com?subject=Collaboration%20Inquiry&body=Hi%20Raga%2C%0A%0A";n.addEventListener("click",n=>{n.preventDefault();try{window.location.assign(t),setTimeout(()=>{document.hidden||(window.location.href=e)},1200)}catch(t){window.location.href=e}})}})}();